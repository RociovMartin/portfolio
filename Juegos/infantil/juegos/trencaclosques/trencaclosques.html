<!DOCTYPE html>
<html lang="es-ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="../comun/css/stylebackground.css">
    <link rel="stylesheet" href="../comun/css/juegos.css">
    
    <!-- JavaSript -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/image-puzzle.js"></script>
    
    <title>Trencaclosques</title>
    <link rel="shortcut icon" href="../comun/img/iconos/puzzle_icon.svg" type="image/x-icon">
</head>
<body onload="hideMessage()">
    <!-- Titulo -->
    <h1 id="titulo">Trencaclosques</h1>

    <!-- Fondo -->
    <main>
        <div class="circle cataleg"></div>
        <div class="circle ajuda"></div>
        <div class="circle explorador"></div>
        <div class="circle tramits"></div>
    </main>
    
    <!-- Boton volver -->
    <button title="Volver" onclick="volverGaleriaJuegos() " id="volver">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"/>
        </svg>
    </button>
    
    <!-- Instrucciones -->
    <div id="instrucciones-absoluto">
        <div class="contenedor-instrucciones">
            <div class="instrucciones-btn" onclick="toggleInstrucciones()">
                <img src="../comun/img/instrucciones.png" alt="Instrucciones">
            </div>
        
            <div class="instrucciones">
                <h3 class="titulo-ins">Instruccions</h3>
        
                <p class="texto-ins">Clica sobre una peça i arrossega-la a la posició correcta.</p>
                <p class="texto-ins">Intenta completar la imatge!</p>
            </div>
        </div>
    </div>
    
    <!-- Juego -->
    <h2 id="mensaje" class="alert">Partida acabada! Enhorabona!</h2>

    <div id="collage">
        <div id="playPanel">
            <div>
                <div class="juego">
                    <!-- ESTRUCTURA ROMPECABEZAS -->
                    <ul id="sortable" class="sortable"></ul>
                    <!-- FIN ESTRUCTURA ROMPECABEZAS -->
                    
                    <!-- IMAGEN DE REFERENCIA -->
                    <div id="actualImageBox">
                        <img id="actualImage"/>
                    </div>
                    <!-- FIN IMAGEN DE REFERENCIA -->
                </div>
            </div>
        </div>
    </div>
    
    <div class="buttons">
        <button id="newPhoto" type="button" class="btn" onclick="hideMessage()">Següent</button>
    </div>

    

    <!-- Menu Niveles -->
    <div id="contenedor-externo">
        <div class="levelPanel" id="contenedor-niveles">
            <input type="radio" name="level" id="easy" checked="checked" value="3" onclick="hideMessage()"/> <label class="boton-niveles" for="easy">Nivell 1</label>
            <input type="radio" name="level" id="medium" value="4" onclick="hideMessage()"/> <label class="boton-niveles" for="medium">Nivell 2</label>
            <input type="radio" name="level" id="hard" value="5" onclick="hideMessage()"/> <label class="boton-niveles" for="hard">Nivell 3</label>
            <input type="radio" name="level" id="veryhard" value="6" onclick="hideMessage()"/> <label class="boton-niveles" for="veryhard">Nivell 4</label>
        </div>
        <div onclick="desplegarNiveles()" id="boton-desplegable-niveles">Nivells</div>
    </div>

    <!-- Confeti -->
    <canvas id="canvas"></canvas>
    
    <!-- JavaScript Juego -->
    <script>
        var images = [
            { src: 'img/perdut.jpg', title: 'PERDUT I TROBAT' },
            { src: 'img/ernest2.jpg', title: '  ERNEST' },
            { src: 'img/AgnèsdeLestrade.jpg', title: 'SALTI QUI PUGUI' },
            { src: 'img/rot.jpg', title: 'ROT EL MÉS GUAPO DEL MÓN' },
            { src: 'img/letras.jpg', title: "LETRAS AL CARBON" }
        ];
        
        $(function () {
            var gridSize = $('.levelPanel :radio:checked').val();
            imagePuzzle.startGame(images, gridSize);
            $('#newPhoto').click(function () {
                var gridSize = $('.levelPanel :radio:checked').val();
                imagePuzzle.startGame(images, gridSize);
            });
            
            $('.levelPanel :radio').change(function (e) {
                var gridSize = $(this).val();
                imagePuzzle.startGame(images, gridSize);
            });
        });
    </script>

    <!-- JavaScript -->
    <script src="../comun/js/confeti.js"></script>
    <script src="../comun/js/instrucciones.js"></script>
    <script src="../comun/js/javascript_volver.js"></script>
    <script src="../comun/js/seleccion_nivel.js"></script>
</body>
</html>